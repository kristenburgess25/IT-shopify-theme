!function(e){"function"==typeof define&&define.amd?define(e):e()}(function(){"use strict";function mapInit(){var e={zoom:10,disableDefaultUI:!0,center:new google.maps.LatLng(42.361145,-71.057083)},t=new google.maps.Map(document.getElementById("orders_map"),e),a=(new google.maps.places.Autocomplete($(".find-lab-address").get(0)),new google.maps.InfoWindow);a.setOptions({pixelOffset:new google.maps.Size(0,5),disableAutoPan:!1}),navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){e=new google.maps.LatLng(e.coords.latitude,e.coords.longitude);t.setCenter(e)}),document.querySelector("#lab-form").addEventListener("submit",function(e){e.preventDefault();var o=$("#radius-select").val(),e={address:$(".find-lab-address").val(),radius:o};$.ajax({url:"https://dev3.segterra.com/customer/lab/load-markers/",type:"post",dataType:"json",data:e,success:function(e){var n;e.data&&(n=e.data.you,e=e.data.labs,function(){for(var e=0;e<r.length;e++)r[e].setMap(null);r.length=0}(),function(t,a,s){var e,n;for(n=0;n<a.length;n++)e=new google.maps.Marker({position:new google.maps.LatLng(a[n].lat,a[n].lng),map:t}),r.push(e),google.maps.event.addListener(e,"click",function(e,n){var o=$("#info-box").tmpl(a[n]).html();return function(){s.setContent(o),s.open(t,e)}}(e,n)),google.maps.event.addListener(s,"domready",function(){var e=$(".gm-style-iw"),n=e.prev();e.parent().addClass("gm-style-iw--style"),n.children(":nth-child(2)").css({"box-shadow":"none","background-color":"transparent"}),n.children(":nth-child(1)").css({"border-top-width":"16px"}),n.children(":nth-child(3)").find(":nth-child(2)").children().css({transform:"skewX(-30.6deg)","box-shadow":"none"}),n.children(":nth-child(3)").find(":nth-child(1)").children().css({transform:"skewX(30.6deg)","box-shadow":"none"})})}(t,e,a),function(e,n,o){var n=new google.maps.LatLng(n.lat,n.lng),t=10;switch(o){case 10:t=10;break;case 20:case 30:t=9;break;case 50:t=8;break;case 100:t=7;break;case 500:t=4}e.setCenter(n),e.setZoom(t)}(t,n,o))}})})}var $,r;$=jQuery,r=[],google.maps.event.addDomListener(window,"load",function(){console.log("map load"),setTimeout(function(){mapInit()},500)})});